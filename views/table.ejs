<link rel="stylesheet" href="/css/table.css">

<main class="table-container">
    <h2>
        <a href="/">
            <i class="fa-solid fa-house"></i>
        </a>
        / <%= file %>
    </h2>

    <form action="" class="search-form">
        <input type="text" name="searchRow" id="search-input" placeholder="Search..."/>
        <button id="searchBtn"><i class="fa-solid fa-magnifying-glass"></i></button>
    </form>

    <table border="1" id="dataTable" width="100%" cellspacing="0">
        <thead>
            <tr>
                <% for(let i = 0; i < keys.length; i++){ %>
                    <th data-column=<%= i %> data-order="desc"><%= keys[i] %> &#9660;</th>
                <% } %>
            </tr>
        </thead>
        <tbody>
            <% for(let k = 0; k < results.length;k++){ %>
                <% var ans = results[k] %>
                <tr>
                  <% for(let j = 0; j < keys.length; j++){ %>
                    <td><%= ans[j] %></td>
                  <% } %>
                </tr>
    
              <% } %>
        </tbody>
    </table>

    <div class="pagination-box">
        <div class="entry-count">
            Showing <span id="start-entry">1</span> to <span id="end-entry">1</span> of entries(filtered from <span id="total-entries">0</span> total entries)
        </div>

        <div id="pagination-controls">
            <button id="prev-page">Previous</button>
            <span id="page-info">Page <span id="current-page">1</span> of <span id="total-pages">1</span></span>
            <button id="next-page">Next</button>
        </div>
    </div>
</main>

<script>
    let results = <%- JSON.stringify(results) %>;
     
</script>
